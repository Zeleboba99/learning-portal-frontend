<div class="card">
  <article class="card-body">
    <h4 class="card-title mb-4 mt-1" style="text-align: center">Registration</h4>
    <hr>
    <div *ngIf="serverError" class="alert alert-danger">{{serverError}}</div>
    <div *ngIf="successMessage" class="alert alert-success">{{successMessage}}</div>
    <form>
      <div class="form-group">
        <label>Username</label>
        <input class="form-control" placeholder="Enter username" type="text" name="username"
               [(ngModel)]="signUpData.username" #username="ngModel" required>
        <div [hidden]="username.valid || username.untouched" class="alert alert-danger">
          Please, enter username.
        </div>
      </div>
      <div class="form-group">
        <label>Email</label>
        <input name="email" class="form-control" placeholder="Enter email" type="email" [(ngModel)]="signUpData.email"
               #email="ngModel" required pattern="[a-zA-Z0-9_]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}">
        <div [hidden]="email.valid || email.untouched" class="alert alert-danger">
          Please check your email.
        </div>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input name="password" class="form-control" placeholder="******" type="password"
               [(ngModel)]="signUpData.password" #password="ngModel" required
               pattern="^(?=\D*\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,30}$">
        <div [hidden]="password.valid || password.untouched" class="alert alert-danger">
          8+ chars, 1 digit
        </div>
      </div>
      <div class="form-group">
        <label>Confirm password</label>
        <input name="confirmPassword" class="form-control" placeholder="******" type="password"
               [(ngModel)]="signUpData.confirmPassword" #confirmPassword="ngModel" required
               pattern="{{ password.value }}">
        <div [hidden]="confirmPassword.valid || confirmPassword.untouched" class="alert alert-danger">
          Passwords does not match
        </div>
      </div>
      <div class="form-group">

        <button [disabled]="username.invalid || email.invalid || password.invalid || confirmPassword.invalid"
                type="submit" class="btn btn-primary btn-block" (click)="register()"> Sign up
        </button>
      </div>
    </form>
  </article>
</div>
