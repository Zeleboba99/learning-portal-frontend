<div class="row">
  <div class="col-md">
<!--    <div class="my-3 p-3 bg-white rounded box-shadow">-->
      <div class="row">
        <div class="col-md-10">
          <h6 class="border-bottom border-gray pb-2 mb-0">Lessons of {{course.name}}</h6>
        </div>
        <div *ngIf="isAuthor || authService.isAdmin()" class="col-md-2">
          <div class="d-flex flex-row-reverse">
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-plus"></i>
              </button>
              <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item btn-secondary" (click)="onAddLesson()">Lesson</a>
                <a class="dropdown-item btn-secondary" (click)="onAddFinalTest(course_id)">Final test</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="list-group-item list-group-item-action" *ngFor="let lesson of lessons">
        <div class="row">
          <div class="col-md-1">
            <p></p>
            <button type="button" class="btn btn-outline-secondary btn-sm" (click)="onLessonClick(lesson.id)">
              <i class="fas fa-folder-open"></i>
            </button>
          </div>
          <div class="col-md">
            <div class="media pt-3">
              <p class="media-body pb-3 mb-0 small lh-125 ">
                <strong class="d-block text-black">{{lesson.name}}</strong>
                {{lesson.description}}
              </p>
              <div *ngIf="isAuthor">
                <button type="button" class="btn btn-outline-secondary btn-sm" (click)="onEditLessonClick(lesson.id)">
                  <i class="fas fa-edit"></i>
                </button>
                <button type="button" class="btn-sm btn btn-outline-secondary" data-toggle="modal" data-target="#exampleModal"
                   (click)="onDeleteClick(lesson.id)">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="hasTest && !isAuthor">
      <button class="btn btn-outline-secondary text-body" role="button" (click)="onGoToTheFinalTest(course_id)">Go to the
        final test</button>
      </div>
    <div *ngIf="hasTest && isAuthor">
      <button class="btn btn-outline-secondary text-body" role="button" (click)="viewFinalTest(course_id)">View test</button>
    </div>
    </div>
  </div>
<!--</div>-->

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to delete the lesson?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        <button type="button" class="btn btn-primary" (click)="onConfirmDeleteClick()" data-dismiss="modal">Yes</button>
      </div>
    </div>
  </div>
</div>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
  <p style="color: white">Please Wait. </p>
</ngx-spinner>


